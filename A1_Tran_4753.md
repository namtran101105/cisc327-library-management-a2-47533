- **Name:** [Ngoc Hai Nam Tran]
- **Student ID:** [20394753]
- **Group Number:** [4]

---

## CISC 327 / CMPE 327 - Assignment 1: Project Implementation Status

This report details the implementation status of the Library Management System application. The analysis compares the current state of the codebase against the seven functional requirements outlined in the `requirements_specification.md` document.

### Implementation Status Table

| Function Name              | Implementation Status | What is Missing (if any)                                      |
| -------------------------- | --------------------- | ------------------------------------------------------------- |
| **R1: Add Book To Catalog**| `[Partially Complete]` | `[Need to check for all digit ISBN. Currently, ISBN with full letters or some letters is still accepted.]` |
| **R2: Book Catalog Display** | `[Complete]` | `[None]` |
| **R3: Book Borrowing Interface**| `[Complete]` | `[None]` |
| **R4: Book Return Processing**| `[Not Implemented]` | `[Nothing is implemented for the return functionality.]` |
| **R5: Late Fee Calculation API**| `[Not Implemented]` | `[Nothing is implemented.]` |
| **R6: Book Search Functionality**| `[Not Implemented]` | `[Nothing is implemented for search functionality, including all searching by title, author or ID.]` |
| **R7: Patron Status Report** | `[Not Implemented]` | `[Nothing is implemented for patron status report.]` |

---

### Summary of Unit Tests

A suite of unit tests has been developed using the `pytest` framework to verify the business logic of the application. The tests are located in the `/tests` directory and leverage `monkeypatch` to isolate functions from database dependencies, ensuring true unit testing.

-   **Test for R1 (Add Book):** Verifies all input validation rules, including checks for required fields (title, author), character limits, and correct ISBN format. It also tests for edge cases like duplicate ISBNs and database insertion failures.

-   **Test for R2 (Catalog Display):** I am not sure how to write test cases for this requirement because it is just the front end part. I can confirm that the catalog displays everything as R2 requires.

-   **Test for R3 (Book Borrowing):** Covers the complete borrowing workflow. Tests include validating the patron ID format, checking for book availability, ensuring patrons do not exceed their borrowing limit (5 books), and handling requests for non-existent books.

-   **Test for R4 (Book Returning):** Validates the book return process. Tests confirm that only a patron who has borrowed a specific book can return it, and that already-returned books cannot be returned again. It also tests for invalid patron/book IDs and potential database update failures.

-   **Test for R5 (Late Fee Calculation):** Tests the fee calculation logic against multiple scenarios: on-time returns (zero fee), fees within the first 7 overdue days, fees after 7 days using the tiered rate, and confirmation that the fee correctly caps at the $15.00 maximum. Also includes a test for fees on books not yet returned.

-   **Test for R6 (Book Search):** Validates the search functionality for title, author, and ISBN. It confirms that title and author searches are case-insensitive and support partial matching, while ISBN searches are exact. It also tests for cases with no matching results and invalid search types.

-   **Test for R7 (Patron Status Report):** Ensures the report aggregation is correct. Tests verify the final report's structure, confirm that the borrowed book count is accurate, check that total late fees are correctly calculated and included, and ensure the function handles new patrons with no borrowing history.
